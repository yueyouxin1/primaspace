# ==================================
# 元象空间 (PrismaSpace) 环境配置
# ==================================

# --- 应用核心配置 ---
# 应用运行环境 (development, staging, production)
APP_ENV=development
# FastAPI 应用运行的主机和端口
APP_HOST=127.0.0.1
APP_PORT=8000
# .env for China deployment
SITE_CURRENCY=CNY

# .env for International deployment
# SITE_CURRENCY=USD

# 用于JWT令牌签名和验证的密钥，请务必使用一个长且随机的字符串
SECRET_KEY="a_very_secret_key_that_should_be_long_and_random"
# JWT 算法
ALGORITHM=HS256
# 访问令牌的过期时间（分钟）
ACCESS_TOKEN_EXPIRE_MINUTES=60

# 用于加密数据库中用户凭证的主密钥 (Base64 encoded 32 bytes)
CREDENTIAL_ENCRYPTION_KEY="pktxF3OQILsLqzO92nsqkqTuujXbgwq6bJ1tHlfcMP0="

# 平台默认的第三方 Key
OPENAI_API_URL="https://example.com"
OPENAI_API_KEY="sk-..."
ALIYUN_API_URL="https://dashscope.aliyuncs.com/compatible-mode/v1"
ALIYUN_API_KEY=""

# --- 数据库配置 ---
DB_HOST=127.0.0.1
DB_PORT=5432
DB_USER=primaspace_user
DB_PASSWORD=
DB_NAME=primaspace_dev

DB_TENANT_DATA_HOST=127.0.0.1
DB_TENANT_DATA_PORT=5432
DB_TENANT_DATA_USER=primaspace_user
DB_TENANT_DATA_PASSWORD=
DB_TENANT_DATA_NAME=primaspace_tenant

DB_TEST_HOST=127.0.0.1
DB_TEST_PORT=5432
DB_TEST_USER=primaspace_user
DB_TEST_PASSWORD=
DB_TEST_NAME=primaspace_test

# --- Redis 缓存与消息队列配置 ---
# 用于缓存、WebSocket消息广播、后台任务队列等
REDIS_HOST=127.0.0.1
REDIS_PORT=6379
# 如果Redis有用户名，请填写
# REDIS_USER=
REDIS_PASSWORD=
# 使用的Redis数据库编号
REDIS_DB=0

REDIS_TEST_HOST=127.0.0.1
REDIS_TEST_PORT=6379
REDIS_TEST_PASSWORD=
REDIS_TEST_DB=1

STORAGE_PROVIDER="aliyun_oss"

# Storage Access Credentials
STORAGE_ENDPOINT="oss-cn-guangzhou.aliyuncs.com"
STORAGE_BUCKET="primaspace-workspace"
STORAGE_ACCESS_KEY=""
STORAGE_SECRET_KEY=""

# [Optional] CDN / Public Domain
# 如果配置了CDN，生成的URL将使用此域名而不是 Endpoint
# STORAGE_PUBLIC_DOMAIN=""

# 默认上传过期时间 (秒)
STORAGE_UPLOAD_EXPIRE_SECONDS=60
# 限制上传最大 500MB
STORAGE_MAX_UPLOAD_SIZE_BYTES=524288000 
# 允许的默认 Bucket ACL
STORAGE_BUCKET_ACL="private"

# --- 向量数据库配置 ---
# 用于知识库、语义搜索等AI功能
VECTOR_ENGINES_ENABLED=["default"]

VE_DEFAULT_TYPE=milvus
VE_DEFAULT_HOST=localhost
VE_DEFAULT_PORT=19530

# 配置 'qdrant_test' 别名 (Qdrant)
VE_QDRANT_TEST_TYPE=qdrant
VE_QDRANT_TEST_HOST=localhost
VE_QDRANT_TEST_PORT=6333